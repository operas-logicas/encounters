(self.webpackChunk=self.webpackChunk||[]).push([[773],{2746:(e,t,n)=>{"use strict";var r=n(7757),s=n.n(r),o=n(821);var a=function(e){return(0,o.dD)("data-v-729aecea"),e=e(),(0,o.Cn)(),e},i={class:"hero is-medium is-black"},c={class:"hero-head"},l={class:"navbar"},u={class:"container"},d={class:"navbar-brand"},p=[a((function(){return(0,o._)("span",null,null,-1)})),a((function(){return(0,o._)("span",null,null,-1)})),a((function(){return(0,o._)("span",null,null,-1)}))],g={class:"navbar-end"},f=(0,o.Uk)(" Home "),h=(0,o.Uk)(" Post "),m=(0,o.Uk)(" Register "),v=(0,o.Uk)(" Login "),b={key:4,href:"#",class:"navbar-item is-disabled"},w=a((function(){return(0,o._)("strong",null,"User:¬†",-1)})),j=a((function(){return(0,o._)("div",{class:"hero-body"},[(0,o._)("div",{class:"container has-text-centered"},[(0,o._)("p",{class:"title is-1"}," Encounters! "),(0,o._)("p",{class:"subtitle is-4"}," UFO Sightings ")])],-1)})),y={class:"section"},k={class:"columns"};var O=n(2119),P=n(8637),x={class:"sighting-map column is-three-fifths-tablet is-two-thirds-desktop"},D={key:0},C={key:1},M=[(0,o._)("p",{class:"is-size-4 mt-3"},"Error!",-1),(0,o._)("hr",null,null,-1),(0,o._)("p",{class:"is-size-4"},"We've encountered a problem üí£",-1),(0,o._)("p",{class:"is-size-5 mt-4 mb-3"},"Unfortunately we cannot proceed",-1)];var z={class:"content is-small box"},E={class:"is-size-6 is-flex is-justify-content-space-between"},S={class:"truncate horiz"},L={key:0,class:"is-clickable"},U={key:1,class:"is-clickable"},q=function(e){return(0,o.dD)("data-v-516e2a64"),e=e(),(0,o.Cn)(),e}((function(){return(0,o._)("span",{class:"is-size-6 mb-1"},"üëΩ",-1)})),Z={class:"truncate"};var I=n(381),W=n.n(I);const Y={props:{sighting:Object},setup:function(e){return{hasLikes:(0,o.Fl)((function(){return e.sighting.likes>0})),niceDate:(0,o.Fl)((function(){return W()(e.sighting.date).format("ll")}))}}};var $=n(3379),R=n.n($),F=n(1004),H={insert:"head",singleton:!1};R()(F.Z,H);F.Z.locals;var K=n(3744);const V=(0,K.Z)(Y,[["render",function(e,t,n,r,s,a){return(0,o.wg)(),(0,o.iD)("article",z,[(0,o._)("div",null,[(0,o._)("p",E,[(0,o._)("span",S,(0,o.zw)(n.sighting.title),1),(0,o._)("span",{onClick:t[0]||(t[0]=function(){})},[r.hasLikes?((0,o.wg)(),(0,o.iD)("span",L,"üíö")):((0,o.wg)(),(0,o.iD)("span",U,"ü§ç")),(0,o.Uk)(" "+(0,o.zw)(n.sighting.likes),1)])])]),(0,o._)("p",null,[q,(0,o.Uk)(" "+(0,o.zw)(n.sighting.user_handle)+" ‚Ä¢ "+(0,o.zw)(r.niceDate),1)]),(0,o._)("p",Z,(0,o.zw)(n.sighting.description),1)])}],["__scopeId","data-v-516e2a64"]]);var B=n(8662);n(5215);function A(e,t){return[e=+e.toFixed(6),t=+t.toFixed(6)]}function N(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){N(o,r,s,a,i,"next",e)}function i(e){N(o,r,s,a,i,"throw",e)}a(void 0)}))}}function G(e){return X.apply(this,arguments)}function X(){return(X=T(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"de7fdcfba2734932be8d31c84963114a",e.prev=1,delete(r=n(9669)).defaults.headers.common["X-Requested-With"],r.defaults.withCredentials=!1,e.next=7,r.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(t.join("+"),"&key=").concat("de7fdcfba2734932be8d31c84963114a"));case 7:return e.abrupt("return",e.sent.data.results[0].components.state);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){te(o,r,s,a,i,"next",e)}function i(e){te(o,r,s,a,i,"throw",e)}a(void 0)}))}}const re={components:{Sighting:V,LMap:B.iA,LTileLayer:B.Hw,LMarker:B.$R,LPopup:B.Q2},setup:function(){var e=(0,P.oR)(),t=(0,o.qj)({zoom:7,coords:[0,0],url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',mapOptions:{scrollWheelZoom:!1},sightings:null,currentState:null,loading:!0,error:!1});function n(e){return r.apply(this,arguments)}function r(){return(r=ne(s().mark((function n(r){var o,a,i,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.coords){n.next=5;break}o=r.coords,a=o.latitude,i=o.longitude,t.coords=A(a,i),n.next=11;break;case 5:if(!r.latlng||r.latlng===t.coords){n.next=10;break}c=r.latlng,l=c.lat,u=c.lng,t.coords=A(l,u),n.next=11;break;case 10:return n.abrupt("return");case 11:return e.commit("setCurrentPosition",t.coords),n.prev=12,n.next=15,G(t.coords);case 15:t.currentState=n.sent,n.next=22;break;case 18:n.prev=18,n.t0=n.catch(12),console.log("Could not get your current state from OpenCage Geocoding API"),t.error=!0;case 22:return n.prev=22,t.loading=!1,n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[12,18,22,25]])})))).apply(this,arguments)}function a(){return(a=ne(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.get("/api/sightings?state=".concat(t.currentState));case 3:t.sightings=n.sent.data.data,e.commit("setSightings",t.sightings),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t.error=!0;case 10:return n.prev=10,t.loading=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})))).apply(this,arguments)}return ne(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.geolocation){e.next=3;break}return e.next=3,navigator.geolocation.getCurrentPosition(n,(function(){alert("Could not get your position.")}));case 3:case"end":return e.stop()}}),e)})))(),(0,o.YP)((function(){return t.currentState}),(function(){return a.apply(this,arguments)})),J(J({},(0,o.BK)(t)),{},{renderMap:n})}};var se=n(7383),oe={insert:"head",singleton:!1};R()(se.Z,oe);se.Z.locals;const ae=(0,K.Z)(re,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("l-tile-layer"),c=(0,o.up)("sighting"),l=(0,o.up)("router-link"),u=(0,o.up)("l-popup"),d=(0,o.up)("l-marker"),p=(0,o.up)("l-map");return(0,o.wg)(),(0,o.iD)("div",x,[e.loading?((0,o.wg)(),(0,o.iD)("div",D,"Loading...")):e.error?((0,o.wg)(),(0,o.iD)("div",C,M)):((0,o.wg)(),(0,o.j4)(p,{key:2,ref:"map",onClick:r.renderMap,zoom:e.zoom,center:e.coords,options:e.mapOptions},{default:(0,o.w5)((function(){return[(0,o.Wm)(i,{url:e.url,attribution:e.attribution},null,8,["url","attribution"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.sightings,(function(e,t){return(0,o.wg)(),(0,o.j4)(d,{key:"marker-".concat(t),"lat-lng":e.location.split(",")},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{to:{name:"sighting",params:{id:e.id}}},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{sighting:e},null,8,["sighting"])]})),_:2},1032,["to"])]})),_:2},1024)]})),_:2},1032,["lat-lng"])})),128))]})),_:1},8,["onClick","zoom","center","options"]))])}]]);var ie={key:1,class:"modal-card"},ce={class:"modal-card-head"},le=(0,o._)("p",{class:"modal-card-title"}," Login ",-1),ue={class:"modal-card-body pb-3"},de={class:"field"},pe=(0,o._)("label",{class:"label"},"User Handle",-1),ge={class:"control"},fe={class:"field"},he=(0,o._)("label",{class:"label"},"Password",-1),me={class:"control"},ve=(0,o.Uk)(" No account yet? "),be=(0,o.Uk)("Register"),we={class:"modal-card-foot"},je=["disabled"],ye=["disabled"],ke={key:0,class:"i"};function _e(){return"true"===localStorage.getItem("isLoggedIn")}function Oe(){localStorage.setItem("isLoggedIn","true")}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){Ce(o,r,s,a,i,"next",e)}function i(e){Ce(o,r,s,a,i,"throw",e)}a(void 0)}))}}const ze={setup:function(e,t){var n=t.emit,r=(0,O.tv)(),a=(0,P.oR)(),i=(0,o.qj)({handle:null,password:null,errors:null,sending:!1,error:!1});function c(){return(c=Me(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.sending=!0,i.errors=null,e.prev=2,e.next=5,axios.get("/sanctum/csrf-cookie");case 5:return e.next=7,axios.post("/login",{handle:i.handle,password:i.password});case 7:return Oe(),e.next=10,a.dispatch("loadUser");case 10:return i.sending=!1,n("closeModal"),e.next=14,r.push({name:"home"});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),e.t0.response&&e.t0.response.status&&422===e.t0.response.status?i.errors=e.t0.response.data.errors:i.error=!0;case 19:return e.prev=19,i.sending=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}return _e()&&n("closeModal"),xe(xe({},(0,o.BK)(i)),{},{validateErrors:function(e){return i.errors&&i.errors[e]?i.errors[e]:null},login:function(){return c.apply(this,arguments)}})}},Ee=(0,K.Z)(ze,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("fatal-error"),c=(0,o.up)("v-errors"),l=(0,o.up)("router-link");return e.error?((0,o.wg)(),(0,o.j4)(i,{key:0})):((0,o.wg)(),(0,o.iD)("div",ie,[(0,o._)("header",ce,[le,(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"delete","aria-label":"close"})]),(0,o._)("section",ue,[(0,o._)("div",de,[pe,(0,o._)("div",ge,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("handle")}]]),type:"text",name:"handle",placeholder:"Enter your user handle","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.handle=t})},null,2),[[o.nr,e.handle]])]),(0,o.Wm)(c,{errors:r.validateErrors("handle")},null,8,["errors"])]),(0,o._)("div",fe,[he,(0,o._)("div",me,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("password")}]]),type:"password",name:"password",placeholder:"Enter your password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.password=t})},null,2),[[o.nr,e.password]])]),(0,o.Wm)(c,{errors:r.validateErrors("password")},null,8,["errors"])]),(0,o._)("div",null,[ve,(0,o.Wm)(l,{to:{name:"register"}},{default:(0,o.w5)((function(){return[be]})),_:1})])]),(0,o._)("footer",we,[(0,o._)("button",{onClick:t[3]||(t[3]=(0,o.iM)((function(){return r.login&&r.login.apply(r,arguments)}),["prevent"])),class:"button is-success",disabled:e.sending},"Login",8,je),(0,o._)("button",{onClick:t[4]||(t[4]=function(t){return e.$emit("closeModal")}),class:"button",disabled:e.sending},"Cancel",8,ye),e.sending?((0,o.wg)(),(0,o.iD)("p",ke,"Logging in...")):(0,o.kq)("",!0)])]))}]]);var Se={key:1,class:"modal-card"},Le={class:"modal-card-head"},Ue=(0,o._)("p",{class:"modal-card-title"}," Register ",-1),qe={class:"modal-card-body pb-3"},Ze={class:"field"},Ie=(0,o._)("label",{class:"label"},"User Handle",-1),We={class:"control"},Ye=(0,o._)("p",{class:"help"},"Automatically generated for you",-1),$e={class:"field"},Re=(0,o._)("label",{class:"label"},"Password",-1),Fe={class:"control"},He={class:"field"},Ke=(0,o._)("label",{class:"label"},"Confirm Password",-1),Ve={class:"control"},Be=(0,o.Uk)(" Already have an account? "),Ae=(0,o.Uk)("Login"),Ne={class:"modal-card-foot"},Te=["disabled"],Ge=["disabled"],Xe={key:0,class:"i"};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){tt(o,r,s,a,i,"next",e)}function i(e){tt(o,r,s,a,i,"throw",e)}a(void 0)}))}}const rt={setup:function(e,t){var r=t.emit,a=(0,O.tv)(),i=(0,P.oR)();_e()&&r("closeModal");var c=n(46)("abcdef0123456789").slice(0,6),l=(0,o.qj)({user:{handle:c,password:null,password_confirmation:null},errors:null,sending:!1,error:!1});function u(){return(u=nt(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.sending=!0,l.errors=null,e.prev=2,e.next=5,axios.post("/register",l.user);case 5:if(201!==e.sent.status){e.next=14;break}return Oe(),e.next=10,i.dispatch("loadUser");case 10:return l.sending=!1,r("closeModal"),e.next=14,a.push({name:"home"});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),e.t0.response&&e.t0.response.status&&422===e.t0.response.status?l.errors=e.t0.response.data.errors:l.error=!0;case 19:return e.prev=19,l.sending=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}return Je(Je({},(0,o.BK)(l)),{},{validateErrors:function(e){return l.errors&&l.errors[e]?l.errors[e]:null},register:function(){return u.apply(this,arguments)}})}},st=(0,K.Z)(rt,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("fatal-error"),c=(0,o.up)("v-errors"),l=(0,o.up)("router-link");return e.error?((0,o.wg)(),(0,o.j4)(i,{key:0})):((0,o.wg)(),(0,o.iD)("div",Se,[(0,o._)("header",Le,[Ue,(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"delete","aria-label":"close"})]),(0,o._)("section",qe,[(0,o._)("div",Ze,[Ie,(0,o._)("div",We,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",name:"handle","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.handle=t}),disabled:""},null,512),[[o.nr,e.user.handle]])]),Ye]),(0,o._)("div",$e,[Re,(0,o._)("div",Fe,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("password")}]]),type:"password",name:"password",placeholder:"Enter your password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.user.password=t})},null,2),[[o.nr,e.user.password]])]),(0,o.Wm)(c,{errors:r.validateErrors("password")},null,8,["errors"])]),(0,o._)("div",He,[Ke,(0,o._)("div",Ve,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("password_confirmation")}]]),type:"password",name:"password_confirmation",placeholder:"Confirm your password","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.user.password_confirmation=t})},null,2),[[o.nr,e.user.password_confirmation]])]),(0,o.Wm)(c,{errors:r.validateErrors("password_confirmation")},null,8,["errors"])]),(0,o._)("div",null,[Be,(0,o.Wm)(l,{to:{name:"login"}},{default:(0,o.w5)((function(){return[Ae]})),_:1})])]),(0,o._)("footer",Ne,[(0,o._)("button",{onClick:t[4]||(t[4]=(0,o.iM)((function(){return r.register&&r.register.apply(r,arguments)}),["prevent"])),class:"button is-success",disabled:e.sending},"Register",8,Te),(0,o._)("button",{onClick:t[5]||(t[5]=function(t){return e.$emit("closeModal")}),class:"button",disabled:e.sending},"Cancel",8,Ge),e.sending?((0,o.wg)(),(0,o.iD)("p",Xe,"Logging in...")):(0,o.kq)("",!0)])]))}]]);var ot={key:1,class:"modal-card"},at={class:"modal-card-head"},it=(0,o._)("p",{class:"modal-card-title"}," Add Sighting ",-1),ct={class:"modal-card-body pb-3"},lt={class:"field"},ut=(0,o._)("label",{class:"label"},"Title",-1),dt={class:"control"},pt={key:0,class:"help"},gt={class:"field"},ft=(0,o._)("label",{class:"label"},"Date",-1),ht={class:"control"},mt={key:0,class:"help"},vt=[(0,o.Uk)(" Enter the date of the event "),(0,o._)("i",null,"(Format: YYYY-MM-DD)",-1)],bt={class:"field"},wt=(0,o._)("label",{class:"label"},"GPS Coordinates",-1),jt={class:"control is-flex is-invalid"},yt={key:0,class:"help"},kt=[(0,o.Uk)(" Enter latitude and longitude where the event ocurred "),(0,o._)("i",null,"(current position on map shown by default)",-1)],_t={class:"field"},Ot=(0,o._)("label",{class:"label"},"Description",-1),Pt={class:"control"},xt={key:0,class:"help"},Dt={class:"field pb-3"},Ct=(0,o._)("label",{class:"label"},"Upload Image",-1),Mt={class:"control"},zt={class:"file-label"},Et=(0,o._)("span",{class:"file-cta"},[(0,o._)("span",{class:"file-icon"},"‚á™"),(0,o._)("span",{class:"file-label"},"Upload image...")],-1),St={key:0,class:"help"},Lt={class:"modal-card-foot"},Ut=["disabled"],qt=["disabled"],Zt={key:0,class:"i"};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function Rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){$t(o,r,s,a,i,"next",e)}function i(e){$t(o,r,s,a,i,"throw",e)}a(void 0)}))}}const Ft={setup:function(e,t){var n=t.emit,r=(0,O.tv)(),a=(0,P.oR)();_e()||(n("closeModal"),r.push({name:"login"}));var i=(0,o.qj)({title:null,date:null,description:null,image:null,coords:[a.state.currentPosition[0],a.state.currentPosition[1]],currentState:null,errors:null,sending:!1,error:!1});function c(){return(c=Rt(s().mark((function e(){var t,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.sending=!0,i.errors=null,e.prev=2,e.next=5,G(i.coords);case 5:i.currentState=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Could not get your current state from OpenCage Geocoding API"),i.error=!0;case 12:return e.prev=12,i.sending=!1,e.finish(12);case 15:return t=new FormData,i.title&&t.append("title",i.title),i.date&&t.append("date",i.date),i.description&&t.append("description",i.description),i.coords&&i.coords[0]&&i.coords[1]&&t.append("location",i.coords.join(",")),i.currentState&&t.append("state",i.currentState),i.image&&t.append("image",i.image),e.prev=22,e.next=25,axios.get("/sanctum/csrf-cookie");case 25:return e.next=27,axios.post("/api/sightings",t,{headers:{"Content-Type":"multipart/form-data"}});case 27:if(201!==(o=e.sent).status){e.next=35;break}return i.sending=!1,c=o.data.data,a.commit("setSighting",c),n("closeModal"),e.next=35,r.push({name:"sighting",params:{id:c.id}});case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(22),e.t1.response&&e.t1.response.status&&422===e.t1.response.status?i.errors=e.t1.response.data.errors:i.error=!0;case 40:return e.prev=40,i.sending=!1,e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[2,8,12,15],[22,37,40,43]])})))).apply(this,arguments)}return(0,o.YP)((function(){return a.state.currentPosition}),(function(){i.coords=[a.state.currentPosition[0],a.state.currentPosition[1]]})),Wt(Wt({},(0,o.BK)(i)),{},{validateErrors:function(e){return i.errors&&i.errors[e]?i.errors[e]:null},uploadFile:function(e){i.image=e.target.files[0]},submit:function(){return c.apply(this,arguments)}})}},Ht=(0,K.Z)(Ft,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("fatal-error"),c=(0,o.up)("v-errors");return e.error?((0,o.wg)(),(0,o.j4)(i,{key:0})):((0,o.wg)(),(0,o.iD)("div",ot,[(0,o._)("header",at,[it,(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"delete","aria-label":"close"})]),(0,o._)("section",ct,[(0,o._)("div",lt,[ut,(0,o._)("div",dt,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("title")}]]),type:"text",name:"title",placeholder:"Close encounter in...","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.title=t})},null,2),[[o.nr,e.title]])]),r.validateErrors("title")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",pt," Enter a title for the sighting ")),(0,o.Wm)(c,{errors:r.validateErrors("title")},null,8,["errors"])]),(0,o._)("div",gt,[ft,(0,o._)("div",ht,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input",[{"is-danger":r.validateErrors("date")}]]),type:"text",name:"date",placeholder:"YYYY-MM-DD","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.date=t})},null,2),[[o.nr,e.date]])]),r.validateErrors("date")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",mt,vt)),(0,o.Wm)(c,{errors:r.validateErrors("date")},null,8,["errors"])]),(0,o._)("div",bt,[wt,(0,o._)("div",jt,[(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input mr-2",[{"is-danger":r.validateErrors("location")}]]),type:"text",name:"location.latitude",placeholder:"Latitude","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.coords[0]=t})},null,2),[[o.nr,e.coords[0]]]),(0,o.wy)((0,o._)("input",{class:(0,o.C_)(["input ml-2",[{"is-danger":r.validateErrors("location")}]]),type:"text",name:"location.longitude",placeholder:"Longitude","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.coords[1]=t})},null,2),[[o.nr,e.coords[1]]])]),r.validateErrors("location")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",yt,kt)),(0,o.Wm)(c,{errors:r.validateErrors("location")},null,8,["errors"])]),(0,o._)("div",_t,[Ot,(0,o._)("div",Pt,[(0,o.wy)((0,o._)("textarea",{class:(0,o.C_)(["textarea",[{"is-danger":r.validateErrors("description")}]]),name:"description",placeholder:"Tell us what happened...","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.description=t})},null,2),[[o.nr,e.description]])]),r.validateErrors("description")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",xt," Describe what happened ")),(0,o.Wm)(c,{errors:r.validateErrors("description")},null,8,["errors"])]),(0,o._)("div",Dt,[Ct,(0,o._)("div",Mt,[(0,o._)("div",{class:(0,o.C_)(["file",[{"is-danger":r.validateErrors("image")}]])},[(0,o._)("label",zt,[(0,o._)("input",{onChange:t[6]||(t[6]=function(){return r.uploadFile&&r.uploadFile.apply(r,arguments)}),class:"file-input",type:"file",name:"image"},null,32),Et])],2)]),r.validateErrors("image")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",St," Upload an image of the event ")),(0,o.Wm)(c,{errors:r.validateErrors("image")},null,8,["errors"])])]),(0,o._)("footer",Lt,[(0,o._)("button",{onClick:t[7]||(t[7]=(0,o.iM)((function(){return r.submit&&r.submit.apply(r,arguments)}),["prevent"])),class:"button is-success",disabled:e.sending},"Submit",8,Ut),(0,o._)("button",{onClick:t[8]||(t[8]=function(t){return e.$emit("closeModal")}),class:"button",disabled:e.sending},"Cancel",8,qt),e.sending?((0,o.wg)(),(0,o.iD)("p",Zt,"Sending...")):(0,o.kq)("",!0)])]))}]]);var Kt={key:0,class:"modal-card"},Vt={class:"modal-card-head pb-2"},Bt={class:"modal-card-title is-flex-shrink-1"},At={class:"is-block is-size-6 mt-1"},Nt={class:"is-block is-size-6 mt-4 mb-0"},Tt=(0,o._)("span",{class:"is-size-5"},"üëΩ",-1),Gt={class:"modal-card-body pb-3"},Xt={class:"content"},Qt={key:0,class:"image is-4by3 mb-3"},Jt=["src"],en={class:"mb-3"},tn={class:"modal-card-foot"};var nn={class:"mb-3"},rn={key:0,class:"is-clickable"},sn={key:1,class:"is-clickable"},on={key:0,class:"is-size-7 pb-3",style:{color:"hsl(348, 86%, 61%) !important"}};function an(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){an(o,r,s,a,i,"next",e)}function i(e){an(o,r,s,a,i,"throw",e)}a(void 0)}))}}const ln={props:{sighting:Object,hasLikes:Boolean,likes:Number},setup:function(e,t){var n=t.emit,r=(0,O.tv)(),a=(0,P.oR)(),i=(0,o.qj)({hasLikes:e.hasLikes,likes:e.likes,error:!1});function c(){return(c=cn(s().mark((function t(){var o,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_e()){t.next=4;break}return n("closeModal"),t.next=4,r.push({name:"login"});case 4:return i.error=!1,t.prev=5,t.next=8,axios.get("/sanctum/csrf-cookie");case 8:return t.next=10,axios.post("/api/likes",{sighting_id:e.sighting.id});case 10:o=t.sent,c=null,o.data.data?(i.likes++,i.hasLikes=!0,c=o.data.data):(i.hasLikes=i.likes>1,i.likes--,(c=e.sighting).likes--),a.commit("updateSighting",c),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),t.t0.response&&t.t0.response.status&&t.t0.response.status,i.error=!0;case 19:case"end":return t.stop()}}),t,null,[[5,16]])})))).apply(this,arguments)}return{state:i,updateLikes:function(){return c.apply(this,arguments)}}}};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}const gn={components:{Likes:(0,K.Z)(ln,[["render",function(e,t,n,r,s,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("p",nn,[(0,o._)("span",{onClick:t[0]||(t[0]=function(){return r.updateLikes&&r.updateLikes.apply(r,arguments)})},[r.state.hasLikes?((0,o.wg)(),(0,o.iD)("span",rn,"üíö")):((0,o.wg)(),(0,o.iD)("span",sn,"ü§ç")),(0,o.Uk)(" "+(0,o.zw)(r.state.likes),1)])]),r.state.error?((0,o.wg)(),(0,o.iD)("p",on,"Error! Failed to persist likes to db.")):(0,o.kq)("",!0)],64)}]])},props:{id:String},setup:function(){var e,t=(0,O.yj)(),n=(0,o.qj)({sighting:null,niceDate:null,hasLikes:!1,loading:!0});return(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/api/sightings/".concat(t.params.id));case 3:n.sighting=e.sent.data.data,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.prev=9,n.loading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){pn(o,r,s,a,i,"next",e)}function i(e){pn(o,r,s,a,i,"throw",e)}a(void 0)}))})(),(0,o.YP)((function(){return n.sighting}),(function(){n.sighting&&(n.hasLikes=n.sighting.likes>0,n.niceDate=W()(n.sighting.date).format("ll"))})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,o.BK)(n))}},fn={components:{login:Ee,register:st,"sighting-form":Ht,"sighting-detail":(0,K.Z)(gn,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("likes");return e.sighting?((0,o.wg)(),(0,o.iD)("div",Kt,[(0,o._)("header",Vt,[(0,o._)("p",Bt,[(0,o.Uk)((0,o.zw)(e.sighting.title)+" ",1),(0,o._)("span",At,"(GPS: "+(0,o.zw)(e.sighting.location)+")",1),(0,o._)("span",Nt,[Tt,(0,o.Uk)(" "+(0,o.zw)(e.sighting.user_handle)+" ‚Ä¢ "+(0,o.zw)(e.niceDate),1)])]),(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"delete","aria-label":"close"})]),(0,o._)("section",Gt,[(0,o._)("div",Xt,[e.sighting.img_path?((0,o.wg)(),(0,o.iD)("p",Qt,[(0,o._)("img",{src:"../storage/".concat(e.sighting.img_path)},null,8,Jt)])):(0,o.kq)("",!0),(0,o._)("p",en,(0,o.zw)(e.sighting.description),1),(0,o.Wm)(i,{sighting:e.sighting,hasLikes:e.hasLikes,likes:e.sighting.likes},null,8,["sighting","hasLikes","likes"])])]),(0,o._)("footer",tn,[(0,o._)("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("closeModal")}),class:"button"},"Close")])])):(0,o.kq)("",!0)}]])},props:{show:Boolean,modal:String}};var hn=n(5480),mn={insert:"head",singleton:!1};R()(hn.Z,mn);hn.Z.locals;const vn=(0,K.Z)(fn,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("login"),c=(0,o.up)("register"),l=(0,o.up)("sighting-form"),u=(0,o.up)("sighting-detail");return(0,o.wg)(),(0,o.iD)("div",{class:(0,o.C_)(["modal",[{"is-active":n.show}]])},[(0,o._)("div",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"modal-background"}),"login"===n.modal?((0,o.wg)(),(0,o.j4)(i,{key:0,onCloseModal:t[1]||(t[1]=function(t){return e.$emit("closeModal")})})):"register"===n.modal?((0,o.wg)(),(0,o.j4)(c,{key:1,onCloseModal:t[2]||(t[2]=function(t){return e.$emit("closeModal")})})):"post"===n.modal?((0,o.wg)(),(0,o.j4)(l,{key:2,onCloseModal:t[3]||(t[3]=function(t){return e.$emit("closeModal")})})):"sighting"===n.modal?((0,o.wg)(),(0,o.j4)(u,{key:3,onCloseModal:t[4]||(t[4]=function(t){return e.$emit("closeModal")})})):(0,o.kq)("",!0)],2)}],["__scopeId","data-v-5507327e"]]);var bn=function(e){return(0,o.dD)("data-v-6fb12cea"),e=e(),(0,o.Cn)(),e},wn={class:"column is-two-fifths-tablet is-one-third-desktop mb-6 is-black"},jn=bn((function(){return(0,o._)("article",{class:"notification is-black"},[(0,o._)("p",{class:"title mb-2"},"Top Sightings In Your State"),(0,o._)("p",{class:"is-size-7"},"(Click on the map to show sightings in another state)")],-1)})),yn={key:0,class:"pb-6 box"},kn=[bn((function(){return(0,o._)("p",null,"Loading...",-1)}))],_n={key:1,class:"pb-6 box"},On=[bn((function(){return(0,o._)("p",null,"No sightings reported yet...",-1)}))],Pn=bn((function(){return(0,o._)("p",{class:"is-size-7 pt-1"},"(Click on the map first to get GPS coordinates)",-1)}));function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cn={components:{sighting:V},setup:function(){var e=(0,P.oR)(),t=(0,o.qj)({sightings:null,loading:!0,none:!1});return(0,o.YP)((function(){return e.state.sightings}),(function(){t.none=!1,t.sightings=e.getters.topSightings,0===_.size(t.sightings)&&(t.none=!0),t.loading=!1}),{deep:!0}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,o.BK)(t))}};var Mn=n(2343),zn={insert:"head",singleton:!1};R()(Mn.Z,zn);Mn.Z.locals;function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){Un(o,r,s,a,i,"next",e)}function i(e){Un(o,r,s,a,i,"throw",e)}a(void 0)}))}}const Zn={components:{"map-view":ae,modal:vn,"sighting-list":(0,K.Z)(Cn,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("sighting"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",wn,[jn,e.loading?((0,o.wg)(),(0,o.iD)("article",yn,kn)):e.none?((0,o.wg)(),(0,o.iD)("article",_n,On)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.sightings,(function(e,t){return(0,o.wg)(),(0,o.iD)("div",{key:"sighting-".concat(t),class:"mb-5"},[(0,o.Wm)(c,{to:{name:"sighting",params:{id:String(e.id)}}},{default:(0,o.w5)((function(){return[(0,o.Wm)(i,{sighting:e,class:"sighting"},null,8,["sighting"])]})),_:2},1032,["to"])])})),128)),(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("showModal","post")}),class:"button is-large is-fullwidth is-success"}," Add your own sighting "),Pn])}],["__scopeId","data-v-6fb12cea"]])},setup:function(){var e=(0,O.tv)(),t=(0,O.yj)(),n=(0,P.oR)(),r=(0,o.qj)({navbarMenu:!1,show:!1,view:"home"}),a=(0,o.Fl)((function(){return n.state.isLoggedIn})),i=(0,o.Fl)((function(){return n.state.user.handle}));function c(){return(c=qn(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/logout");case 3:return e.next=5,n.dispatch("logout");case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,n.dispatch("logout");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,o.YP)((function(){return t.name}),(function(e){"home"!==e&&(r.view=e,r.show=!0)})),Sn(Sn({},(0,o.BK)(r)),{},{isLoggedIn:a,userHandle:i,logout:function(){return c.apply(this,arguments)},toggleNavbarMenu:function(){r.navbarMenu=!r.navbarMenu},showModal:function(t){e.push({name:t})},closeModal:function(){r.show=!1,r.view="home",e.push({name:"home"})}})}};var In=n(9160),Wn={insert:"head",singleton:!1};R()(In.Z,Wn);In.Z.locals;const Yn=(0,K.Z)(Zn,[["render",function(e,t,n,r,s,a){var _=(0,o.up)("router-link"),O=(0,o.up)("sighting-list"),P=(0,o.up)("map-view"),x=(0,o.up)("modal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",i,[(0,o._)("div",c,[(0,o._)("nav",l,[(0,o._)("div",u,[(0,o._)("div",d,[(0,o._)("span",{class:(0,o.C_)(["navbar-burger is-white",[{"is-active":e.navbarMenu}]]),"data-target":"navbarMenuHero",onClick:t[0]||(t[0]=function(){return r.toggleNavbarMenu&&r.toggleNavbarMenu.apply(r,arguments)})},p,2)]),(0,o._)("div",{id:"navbarMenuHero",class:(0,o.C_)(["navbar-menu",[{"is-active":e.navbarMenu}]])},[(0,o._)("div",g,[(0,o.Wm)(_,{to:{name:"home"},class:"navbar-item"},{default:(0,o.w5)((function(){return[f]})),_:1}),r.isLoggedIn?((0,o.wg)(),(0,o.j4)(_,{key:0,to:{name:"post"},class:"navbar-item"},{default:(0,o.w5)((function(){return[h]})),_:1})):(0,o.kq)("",!0),r.isLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(_,{key:1,to:{name:"register"},class:"navbar-item"},{default:(0,o.w5)((function(){return[m]})),_:1})),r.isLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(_,{key:2,to:{name:"login"},class:"navbar-item"},{default:(0,o.w5)((function(){return[v]})),_:1})),r.isLoggedIn?((0,o.wg)(),(0,o.iD)("a",{key:3,onClick:t[1]||(t[1]=(0,o.iM)((function(){return r.logout&&r.logout.apply(r,arguments)}),["prevent"])),href:"#",class:"navbar-item"}," Logout ")):(0,o.kq)("",!0),r.isLoggedIn?((0,o.wg)(),(0,o.iD)("a",b,[w,(0,o.Uk)(" "+(0,o.zw)(r.userHandle),1)])):(0,o.kq)("",!0)])],2)])])]),j]),(0,o._)("section",y,[(0,o._)("div",k,[(0,o.Wm)(O,{onShowModal:r.showModal},null,8,["onShowModal"]),(0,o.Wm)(P,{onShowModal:r.showModal},null,8,["onShowModal"])])]),(0,o.Wm)(x,{onCloseModal:r.closeModal,show:e.show,modal:e.view},null,8,["onCloseModal","show","modal"])],64)}],["__scopeId","data-v-729aecea"]]),$n={components:{app:Yn}},Rn=(0,K.Z)($n,[["render",function(e,t,n,r,s,a){var i=(0,o.up)("app");return(0,o.wg)(),(0,o.j4)(i)}]]);const Fn={props:["errors"],setup:function(){return{key:function(e){return"validation_error_".concat(e,"_").concat(Math.random())}}}},Hn=(0,K.Z)(Fn,[["render",function(e,t,n,r,s,a){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.errors,(function(e,t){return(0,o.wg)(),(0,o.iD)("p",{class:"help is-danger",key:r.key(t)},(0,o.zw)(e),1)})),128)}]]);var Kn={class:"modal-card"},Vn={class:"modal-card-head"},Bn=(0,o._)("p",{class:"modal-card-title"}," Error! ",-1),An=(0,o._)("section",{class:"modal-card-body pb-3"},[(0,o._)("div",null,[(0,o._)("p",{class:"is-size-4"},"We've encountered a problem üí£"),(0,o._)("p",{class:"is-size-5 mt-4 mb-3"},"Unfortunately we cannot proceed")])],-1),Nn={class:"modal-card-foot"};const Tn={},Gn=(0,K.Z)(Tn,[["render",function(e,t){return(0,o.wg)(),(0,o.iD)("div",Kn,[(0,o._)("header",Vn,[Bn,(0,o._)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("closeModal")}),class:"delete","aria-label":"close"})]),An,(0,o._)("footer",Nn,[(0,o._)("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("closeModal")}),class:"button"},"Close")])])}]]);var Xn=[{path:"/",component:Yn,name:"home"},{path:"/login",component:Ee,name:"login"},{path:"/post",component:Ht,name:"post"},{path:"/register",component:st,name:"register"},{path:"/sighting/:id",component:V,name:"sighting"}];const Qn=(0,O.p7)({history:(0,O.PO)(),linkActiveClass:"is-active",routes:Xn});function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}const nr=(0,P.MT)({state:{sightings:null,currentPosition:[],isLoggedIn:!1,user:null},mutations:{setSightings:function(e,t){e.sightings=t},setSighting:function(e,t){e.sightings.push(t)},updateSighting:function(e,t){console.log(e.sightings),e.sightings[e.sightings.findIndex((function(e){return e.id===t.id}))]=t},setCurrentPosition:function(e,t){e.currentPosition=t},setUser:function(e,t){e.user=t},setLoggedIn:function(e,t){e.isLoggedIn=t}},actions:{loadStoredUser:function(e){(0,e.commit)("setLoggedIn",_e())},loadUser:function(e){return(t=s().mark((function t(){var n,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.dispatch,!_e()){t.next=13;break}return t.prev=2,t.next=5,axios.get("/user");case 5:o=t.sent.data,n("setUser",o),n("setLoggedIn",!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r("logout");case 13:case"end":return t.stop()}}),t,null,[[2,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,s){var o=t.apply(e,n);function a(e){tr(o,r,s,a,i,"next",e)}function i(e){tr(o,r,s,a,i,"throw",e)}a(void 0)}))})();var t},logout:function(e){var t=e.commit;t("setUser",null),t("setLoggedIn",!1),localStorage.setItem("isLoggedIn","false")}},getters:{topSightings:function(e){for(var t=[],n=0,r=Object.values(e.sightings);n<r.length;n++){var s=r[n];t.push(s)}var o=t.length>3?3:t.length;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.sort((function(e,t){if(t.likes>e.likes)return 1;if(e.likes>t.likes)return-1;var n=W()(e.date),r=W()(t.date);return r.diff(n)>n.diff(r)?1:-1})).slice(0,o))}}});function rr(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function sr(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){rr(o,r,s,a,i,"next",e)}function i(e){rr(o,r,s,a,i,"throw",e)}a(void 0)}))}}n(7333);var or=(0,o.ri)(Rn);or.component("v-errors",Hn),or.component("fatal-error",Gn),or.use(Qn),or.use(nr),or.mount("#app"),window.axios.interceptors.response.use((function(e){return e}),function(){var e=sr(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.response.status){e.next=3;break}return e.next=3,nr.dispatch("logout");case 3:return e.abrupt("return",Promise.reject(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),sr(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.dispatch("loadStoredUser");case 2:return e.next=4,nr.dispatch("loadUser");case 4:case"end":return e.stop()}}),e)})))()},7333:(e,t,n)=>{window._=n(6486),window.axios=n(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.withCredentials=!0},9160:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3645),s=n.n(r),o=n(1667),a=n.n(o),i=n(8604),c=s()((function(e){return e[1]})),l=a()(i.Z);c.push([e.id,".columns[data-v-729aecea]{height:auto}.hero[data-v-729aecea]{background-image:url("+l+");background-position:0 0;background-size:cover}.navbar-burger[data-v-729aecea]{color:#fff}.navbar-item[data-v-729aecea]:hover{background-color:#363636!important}.navbar-item.is-active[data-v-729aecea]:hover,.navbar-item[data-v-729aecea]:focus{background-color:#000!important}.navbar-item.is-disabled[data-v-729aecea]:focus,.navbar-item.is-disabled[data-v-729aecea]:hover{background-color:inherit!important;cursor:text!important}",""]);const u=c},7383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".sighting-map{height:800px}.leaflet-popup-content{margin:0!important;width:320px!important}",""]);const o=s},5480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".is-active[data-v-5507327e]{display:flex;z-index:1000}",""]);const o=s},1004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".truncate[data-v-516e2a64]{-webkit-box-orient:vertical;-webkit-line-clamp:3;display:-webkit-box;overflow:hidden}.horiz[data-v-516e2a64]{-webkit-line-clamp:1!important;width:80%}",""]);const o=s},2343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".sighting[data-v-6fb12cea]:hover{box-shadow:0 3px 12px 0 rgba(0,0,0,.2);transform:scale(1.01)}",""]);const o=s},8604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="/images/ufo-green-hero.jpg?12595e96a0eeacc09a383ef9b59075ee"},7731:()=>{},6700:(e,t,n)=>{var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":1044,"./ta.js":1044,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":9822,"./vi.js":9822,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=6700}},e=>{var t=t=>e(e.s=t);e.O(0,[170,898],(()=>(t(2746),t(7731))));e.O()}]);